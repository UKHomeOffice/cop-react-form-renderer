<!-- Global imports -->
import { Meta } from '@storybook/addon-docs';
import { Alert, Heading, Link } from '@ukhomeoffice/cop-react-components';

<Meta title="JSON Format/Page" id="F-JSON-Page" />

<Heading size="xl" id="json-format" caption="JSON Format">Page</Heading>

The format of the JSON for a Page for rendering a <Link href="/?path=/docs/d-formrenderer">Form</Link>.

## Properties

### `id : string`
*Required*

A unique identifier for the page.

### `name : string`
*Required*

An identifiable name for the page, which is not displayed in the user interface.

### `title : string`
*Optional*

The title of this page, which should be displayed in the user interface.

### `components : [ object ]`
*Required*

The <Link href="/?path=/docs/f-json-component">components</Link> to display on this page.

* #### `use : string`
This is a reference to a component `id` at the top level of the <Link href="/?path=/docs/f-json-form">form JSON</Link>.
* #### `...`
Everything else is from <Link href="/?path=/docs/f-json-component">components</Link>.

<Alert heading="If 'use' is specified">
The reference is resolved and any additional properties will then override those of the resolved component.

Also see <Link href="/?path=/docs/f-examples-component--page#simple-paragraphs-within-pages">simple paragraphs within pages</Link>.
</Alert>

### `actions : [ string | object ]`
*Optional*

This dictates which buttons / links should be displayed at the bottom of the page. This is either an object that
fully describes the action, or it can be a string that specifies a known action (e.g., `"submit"`).

### `show_on_cya : boolean`
*Optional (defaults to `true`)*

Whether or not there should be any link for this page shown on the **Check your answers** screen. By default, this is
set to `true` and can be missing from the configuration, which will result in a link being shown.

### `cya_link : object`
*Optional and ignored if `show_on_cya` is set to `false`*

This dictates what should be shown for this page on the **Check your answers** screen, where applicable. This is not
needed if `show_on_cya` is set to `false`.

* #### `page: string`
The id of the page to navigate to, which can be different to the page this is specified on.
* #### `label: string`
The label to show on the link. By default this will simply say "Change".
* #### `aria_suffix : string`
Hidden text to include in the link that is for the benefit of accessible users with screen readers.

### `show_when: [ object ]`
*Optional*

An array of configuration objects for determining under what circumstances the page should be shown.

* #### `show_when.field : string`
The field that the display of this page depends upon.

* #### `show_when.op : string`
The comparison operator for the condition:

  * `"=", "eq"`: The value of the component **must** be equal to a specified value.
  * `"!=", "<>", "ne", "neq"`: The value of the component **must not** be equal to a specified value.
  * `"in"`: The value of the component **must** be one of a specified set of values.
  * `"nin"`: The value of the component **must not** be one of a specified set of values.

* #### `show_when.value : string | number | boolean`
The value to compare the `show_when.field`'s value to. This is applicable for equality and inequality operators only.

* #### `show_when.values : [ string | number | boolean ]`
The set of values in which to look for the `show_when.field`'s value. This is applicable for `in` and `nin` operators only.

* #### `group: [object]`
Group is an array, which has `id, label and a components`. Components is an array of strings
  "groups": [
          {
            "id": "address",
            "label": "Address details",
            "components": [
              "firstLineOfTheAddress",
              "town",
              "city",
              "postCode"
            ]
          }
        ], 


## Examples

* See <Link href="/?path=/docs/f-examples-page">Page examples</Link> for sample JSON configurations for pages.
